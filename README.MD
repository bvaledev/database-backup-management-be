# ğŸ“„ Go Database Backup Management

Sistema em Go para gerenciamento automatizado de backups de bancos de dados PostgreSQL. Oferece suporte a mÃºltiplos bancos cadastrados, backups agendados, compactaÃ§Ã£o com Gzip e API RESTful.

---

## ğŸš€ Funcionalidades

- ğŸ” Backup agendado via cron
- ğŸ’¾ ExportaÃ§Ã£o compactada em `.sql.gz` ou `.backup.gz`
- â™»ï¸ RestauraÃ§Ã£o automÃ¡tica com descompactaÃ§Ã£o e identificaÃ§Ã£o do tipo
- ğŸ” Criptografia de senhas com AES-256
- ğŸŒ API REST para gerenciar datasources e operaÃ§Ãµes de backup
- âš–ï¸ ConfiguraÃ§Ã£o via `.env`
- ğŸ“ DiretÃ³rio `./backups` gerenciado automaticamente
- â° Datasources com cron ativo executam backup automaticamente ao serem criados
- âš–ï¸ API de restauraÃ§Ã£o ainda em desenvolvimento

---

## âš™ï¸ ConfiguraÃ§Ã£o

Crie um arquivo `.env` na raiz do projeto com o seguinte conteÃºdo:

```
# Criptografia AES-256 (32 bytes base64)
ENCRYPTION_KEY=JIqt09KGtILwIXYtFFLXNj3SaBvxjcy9wrbDvhVtkCk=

# Banco de dados principal do sistema
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=root
DB_NAME=scheduler_db
DB_SSL_MODE=disable
```

---

## ğŸ“¦ InstalaÃ§Ã£o e execuÃ§Ã£o

```bash
# Instale as dependÃªncias
go mod tidy

# Execute a aplicaÃ§Ã£o
go run ./cmd/api/main.go

# Pode utilizar tambÃ©m
air
```

---

## ğŸ§ª Endpoints disponÃ­veis

| MÃ©todo | Rota                      | DescriÃ§Ã£o                         |
|--------|---------------------------|-----------------------------------|
| GET    | /v1/datasources           | Lista todos os datasources        |
| GET    | /v1/datasources/{id}      | Retorna um datasource especÃ­fico  |
| POST   | /v1/datasources           | Cria um novo datasource           |
| PUT    | /v1/datasources/{id}      | Atualiza um datasource            |
| DELETE | /v1/datasources/{id}      | Remove um datasource              |

---

## ğŸ› ï¸ Tecnologias

- [Go](https://go.dev/) â€” Linguagem principal do projeto
- [Chi](https://github.com/go-chi/chi) â€” Roteador HTTP minimalista
- [Chi CORS](https://github.com/go-chi/cors) â€” Middleware para suporte a CORS
- [robfig/cron](https://github.com/robfig/cron) â€” Agendamento de tarefas com sintaxe cron
- [google/uuid](https://github.com/google/uuid) â€” GeraÃ§Ã£o de UUIDs
- [godotenv](https://github.com/joho/godotenv) â€” Carregamento de variÃ¡veis do `.env`
- [lib/pq](https://github.com/lib/pq) â€” Driver PostgreSQL nativo para Go
- AES-256 â€” Criptografia de senhas (implementada via biblioteca padrÃ£o `crypto/aes`)

---

## âœï¸ Autor

Desenvolvido por [@bvaledev](https://github.com/bvaledev)

---

## âš ï¸ ObservaÃ§Ãµes

- Apenas bancos PostgreSQL sÃ£o suportados no momento.
- Todos os backups sÃ£o compactados com Gzip por padrÃ£o.
- As credenciais sÃ£o criptografadas com AES-256 no banco de dados principal.
- Ao cadastrar um datasource com cron habilitado, o backup serÃ¡ executado automaticamente.
- A API para restauraÃ§Ã£o ainda estÃ¡ em desenvolvimento.
